# Change Tracking Integration in Mind v2

**Ğ¦ĞµĞ»ÑŒ:** Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² Mind v2 Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ±Ğ°Ğ³Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· semantic search Ğ¿Ğ¾ Ğ½ĞµĞ´Ğ°Ğ²Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ğ¾Ğ¼Ñƒ ĞºĞ¾Ğ´Ñƒ.

## ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°

ĞšĞ¾Ğ³Ğ´Ğ° Ğ¿Ğ¾ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ±Ğ°Ğ³, ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ³Ğ´Ğµ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ğ¾Ğ½ Ğ±Ñ‹Ğ» Ğ²Ğ²ĞµĞ´ĞµĞ½:
- ĞĞµÑ‚ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ½ĞµĞ´Ğ°Ğ²Ğ½Ğ¸Ñ… Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ² Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°Ñ… Ğ¿Ğ¾Ğ¸ÑĞºĞ°
- ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ ÑˆĞµÑ€ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ĞµÑÑŒ ĞºĞ¾Ğ´ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ
- ĞĞµÑ‚ ÑĞ²ÑĞ·Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ semantic search Ğ¸ Git Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸ÑĞ¼Ğ¸

## Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: Change Tracking Ğ² Mind v2

### ĞšĞ»ÑÑ‡ĞµĞ²Ğ°Ñ Ğ¸Ğ´ĞµÑ

**ĞĞµ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Git, Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½ÑÑ‚ÑŒ ĞµĞ³Ğ¾ Ñ‡ĞµÑ€ĞµĞ· semantic search:**
- Git Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ§Ğ¢Ğ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ¾ÑÑŒ (diff, blame)
- Mind v2 Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ“Ğ”Ğ• Ğ¸ÑĞºĞ°Ñ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· semantic search Ğ¿Ğ¾ Ğ½ĞµĞ´Ğ°Ğ²Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ğ¾Ğ¼Ñƒ ĞºĞ¾Ğ´Ñƒ
- ĞšĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ: "Ğ½Ğ°Ğ¹Ğ´Ğ¸ Ğ±Ğ°Ğ³Ğ¸ Ğ² Ğ½ĞµĞ´Ğ°Ğ²Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ğ¾Ğ¼ ĞºĞ¾Ğ´Ğµ, ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ğ¾Ğ¼ Ñ compression"

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Indexing Phase                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Collect files (existing)                            â”‚
â”‚  2. Get Git metadata (NEW)                              â”‚
â”‚     - Last modified date                                â”‚
â”‚     - Author                                            â”‚
â”‚     - Commit hash                                       â”‚
â”‚     - Lines changed (added/deleted)                     â”‚
â”‚  3. Store in chunk metadata                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Storage (Qdrant Payload)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  chunk.metadata = {                                     â”‚
â”‚    ...existing metadata,                                 â”‚
â”‚    changeTracking: {                                    â”‚
â”‚      lastModified: timestamp,                           â”‚
â”‚      lastModifiedDaysAgo: number,                       â”‚
â”‚      author: string,                                    â”‚
â”‚      commitHash: string,                                â”‚
â”‚      linesChanged: { added: N, deleted: M },            â”‚
â”‚      changeType: 'added' | 'modified' | 'deleted'       â”‚
â”‚    }                                                    â”‚
â”‚  }                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Query Phase                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Semantic search (existing)                          â”‚
â”‚  2. Filter by change tracking (NEW)                     â”‚
â”‚     - "recent changes" â†’ filter by lastModifiedDaysAgo  â”‚
â”‚     - "changes by author" â†’ filter by author            â”‚
â”‚  3. Boost recent changes (NEW)                          â”‚
â”‚     - Recent changes get higher score                   â”‚
â”‚  4. Show change info in results (NEW)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½

### 1. Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ FileMetadata

```typescript
export interface FileMetadata {
  path: string;
  mtime: number;
  hash?: string;
  
  // NEW: Git change tracking
  changeTracking?: {
    lastModified: number;        // Timestamp of last commit
    lastModifiedDaysAgo: number; // Calculated for easy filtering
    author: string;              // Git author
    commitHash: string;          // Last commit hash
    commitMessage?: string;       // Last commit message (optional)
    linesChanged: {
      added: number;
      deleted: number;
      total: number;
    };
    changeType: 'added' | 'modified' | 'deleted';
    // For incremental: was this file changed since last index?
    isChanged: boolean;
  };
}
```

### 2. Git Integration Module

```typescript
// src/change-tracking/git-tracker.ts

export interface GitChangeInfo {
  lastModified: number;
  author: string;
  commitHash: string;
  commitMessage?: string;
  linesChanged: { added: number; deleted: number };
  changeType: 'added' | 'modified' | 'deleted';
}

export class GitChangeTracker {
  constructor(
    private workspaceRoot: string,
    private runtime: RuntimeAdapter,
  ) {}
  
  /**
   * Get change tracking info for a file
   * Uses git log to get last commit info
   */
  async getChangeInfo(filePath: string): Promise<GitChangeInfo | null> {
    // Check if file is tracked by Git
    if (!await this.isTracked(filePath)) {
      return null;
    }
    
    // Get last commit info
    const lastCommit = await this.getLastCommit(filePath);
    if (!lastCommit) {
      return null;
    }
    
    // Get lines changed
    const linesChanged = await this.getLinesChanged(filePath, lastCommit.hash);
    
    return {
      lastModified: lastCommit.timestamp,
      author: lastCommit.author,
      commitHash: lastCommit.hash,
      commitMessage: lastCommit.message,
      linesChanged,
      changeType: await this.getChangeType(filePath, lastCommit.hash),
    };
  }
  
  /**
   * Get change info for multiple files (batch)
   */
  async getChangeInfoBatch(filePaths: string[]): Promise<Map<string, GitChangeInfo>> {
    // Optimize: use single git command for batch
    const results = new Map<string, GitChangeInfo>();
    
    // Use git log --all --format=... for efficiency
    for (const path of filePaths) {
      const info = await this.getChangeInfo(path);
      if (info) {
        results.set(path, info);
      }
    }
    
    return results;
  }
  
  private async isTracked(filePath: string): Promise<boolean> {
    // git ls-files --error-unmatch <file>
  }
  
  private async getLastCommit(filePath: string): Promise<CommitInfo | null> {
    // git log -1 --format="%H|%an|%at|%s" -- <file>
  }
  
  private async getLinesChanged(filePath: string, commitHash: string): Promise<{ added: number; deleted: number }> {
    // git show --stat <commit> -- <file>
  }
  
  private async getChangeType(filePath: string, commitHash: string): Promise<'added' | 'modified' | 'deleted'> {
    // Check if file was added/modified/deleted in commit
  }
}
```

### 3. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² collectChunks

```typescript
// Ğ’ MindKnowledgeEngine.collectChunks()

private async collectChunks(
  sources: KnowledgeSource[],
): Promise<{ chunks: MindChunk[]; fileMetadata: Map<string, FileMetadata> }> {
  // ... existing code ...
  
  const fileMetadata = new Map<string, FileMetadata>();
  
  // NEW: Initialize Git tracker if enabled
  let gitTracker: GitChangeTracker | null = null;
  if (this.options.changeTracking?.enabled) {
    gitTracker = new GitChangeTracker(this.workspaceRoot, this.runtime);
  }
  
  for (const source of sources) {
    const files = await fg(source.paths, { ... });
    
    for (const file of files) {
      // ... existing file reading ...
      
      const stats = await fs.stat(fullPath);
      const hash = createHash('sha256').update(contents).digest('hex');
      
      const metadata: FileMetadata = {
        path: normalizedPath,
        mtime: stats.mtimeMs,
        hash,
      };
      
      // NEW: Get Git change tracking info
      if (gitTracker) {
        const changeInfo = await gitTracker.getChangeInfo(normalizedPath);
        if (changeInfo) {
          metadata.changeTracking = {
            ...changeInfo,
            lastModifiedDaysAgo: Math.floor(
              (Date.now() - changeInfo.lastModified) / (24 * 60 * 60 * 1000)
            ),
            isChanged: true, // Will be compared during incremental update
          };
        }
      }
      
      fileMetadata.set(normalizedPath, metadata);
      
      // ... rest of existing code ...
    }
  }
  
  return { chunks: chunkList, fileMetadata };
}
```

### 4. Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ chunk metadata

```typescript
// ĞŸÑ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ StoredMindChunk

const storedChunks: StoredMindChunk[] = chunks.map((chunk, idx) => {
  const fileMeta = fileMetadataByPath.get(chunk.path);
  
  return {
    chunkId: chunk.chunkId,
    scopeId: options.scope.id,
    sourceId: chunk.sourceId,
    path: chunk.path,
    span: chunk.span,
    text: chunk.text,
    metadata: {
      ...chunk.metadata,
      fileHash: fileMeta?.hash,
      fileMtime: fileMeta?.mtime,
      
      // NEW: Include change tracking in chunk metadata
      changeTracking: fileMeta?.changeTracking ? {
        lastModified: fileMeta.changeTracking.lastModified,
        lastModifiedDaysAgo: fileMeta.changeTracking.lastModifiedDaysAgo,
        author: fileMeta.changeTracking.author,
        commitHash: fileMeta.changeTracking.commitHash,
        linesChanged: fileMeta.changeTracking.linesChanged,
        changeType: fileMeta.changeTracking.changeType,
      } : undefined,
    },
    embedding: embeddings[idx]!,
  };
});
```

### 5. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ±ÑƒÑÑ‚Ğ¸Ğ½Ğ³ Ğ² query

```typescript
// Ğ’ MindKnowledgeEngine.query()

async query(query: KnowledgeQuery, context: KnowledgeExecutionContext) {
  // ... existing search ...
  
  // NEW: Apply change tracking filters
  const filters = this.createSearchFilters(context);
  
  if (this.options.changeTracking?.enabled) {
    // Filter by "recent changes" if query suggests it
    if (this.isRecentChangesQuery(query.text)) {
      filters.changeTracking = {
        maxDaysAgo: 7, // Last 7 days
      };
    }
    
    // Filter by author if specified
    if (context.changeTracking?.author) {
      filters.changeTracking = {
        ...filters.changeTracking,
        author: context.changeTracking.author,
      };
    }
  }
  
  // ... perform search ...
  
  // NEW: Boost recent changes
  if (this.options.changeTracking?.enabled && this.options.changeTracking.boostRecent) {
    matches = matches.map(match => {
      const changeTracking = match.chunk.metadata?.changeTracking;
      if (changeTracking && changeTracking.lastModifiedDaysAgo <= 7) {
        // Boost: 1.2x for changes in last 7 days
        const boost = 1.0 + (0.2 * (1 - changeTracking.lastModifiedDaysAgo / 7));
        return {
          ...match,
          score: match.score * boost,
        };
      }
      return match;
    });
    
    // Re-sort after boost
    matches.sort((a, b) => b.score - a.score);
  }
  
  // ... rest of query ...
}

private isRecentChangesQuery(queryText: string): boolean {
  const recentKeywords = ['recent', 'latest', 'new', 'changed', 'modified', 'updated'];
  const lowerQuery = queryText.toLowerCase();
  return recentKeywords.some(keyword => lowerQuery.includes(keyword));
}
```

### 6. Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ VectorSearchFilters

```typescript
export interface VectorSearchFilters {
  sourceIds?: Set<string>;
  pathMatcher?: (filePath: string) => boolean;
  
  // NEW: Change tracking filters
  changeTracking?: {
    maxDaysAgo?: number;      // Only chunks changed in last N days
    minDaysAgo?: number;     // Only chunks changed at least N days ago
    author?: string;          // Only chunks changed by specific author
    changeType?: ('added' | 'modified' | 'deleted')[]; // Filter by change type
  };
}
```

### 7. ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ² Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°Ñ…

```typescript
// Ğ’ formatChunkForContext()

function formatChunkForContext(
  chunk: KnowledgeChunk,
  compressionOptions?: CompressionOptions,
  score?: number,
): string {
  const parts: string[] = [];
  
  // ... existing formatting ...
  
  // NEW: Add change tracking info
  if (chunk.metadata?.changeTracking) {
    const ct = chunk.metadata.changeTracking;
    const changeInfo: string[] = [];
    
    if (ct.lastModifiedDaysAgo <= 7) {
      changeInfo.push(`ğŸ†• Changed ${ct.lastModifiedDaysAgo} day${ct.lastModifiedDaysAgo !== 1 ? 's' : ''} ago`);
    }
    
    if (ct.author) {
      changeInfo.push(`by ${ct.author}`);
    }
    
    if (ct.linesChanged.total > 0) {
      changeInfo.push(`(${ct.linesChanged.added}+${ct.linesChanged.deleted}-)`);
    }
    
    if (changeInfo.length > 0) {
      parts.push(`Change: ${changeInfo.join(' ')}`);
    }
  }
  
  // ... rest of formatting ...
}
```

## ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

```json
{
  "knowledge": {
    "engines": [{
      "options": {
        "changeTracking": {
          "enabled": true,
          "boostRecent": true,
          "recentDaysThreshold": 7,
          "includeCommitMessage": false,
          "gitCommand": "git"  // Path to git executable
        }
      }
    }]
  }
}
```

## Use Cases

### 1. ĞŸĞ¾Ğ¸ÑĞº Ğ±Ğ°Ğ³Ğ¾Ğ² Ğ² Ğ½ĞµĞ´Ğ°Ğ²Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ğ¾Ğ¼ ĞºĞ¾Ğ´Ğµ

```bash
# Query: "find bugs in recent compression changes"
pnpm kb mind:rag-query --text "compression bugs errors" --intent search

# Results Ğ±ÑƒĞ´ÑƒÑ‚ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ:
# - Chunks Ñ compression ĞºĞ¾Ğ´Ğ¾Ğ¼
# - Ğ¡ Ğ¿Ğ¾Ğ¼ĞµÑ‚ĞºĞ¾Ğ¹ "ğŸ†• Changed 2 days ago by kirill"
# - ĞĞµĞ´Ğ°Ğ²Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ñ‹Ğµ chunks Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚ boost
```

### 2. ĞŸĞ¾Ğ¸ÑĞº Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ°

```bash
# Query: "recent changes by author"
pnpm kb mind:rag-query --text "plugin system" --intent search --author "kirill"

# Results Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒÑÑ‚ÑÑ Ğ¿Ğ¾ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ñƒ
```

### 3. ĞŸĞ¾Ğ¸ÑĞº Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```bash
# Query: "new files added"
# Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€: changeType = 'added'
```

## ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°

1. **Semantic Search + Git**: ĞšĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ semantic search Ñ Git Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸
2. **ĞĞµ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€ÑƒĞµÑ‚ Git**: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Git ĞºĞ°Ğº Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, Ğ½Ğµ Ğ·Ğ°Ğ¼ĞµĞ½ÑĞµÑ‚ ĞµĞ³Ğ¾
3. **Ğ•ÑÑ‚ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ**: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ÑƒÑ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ (Qdrant payload)
4. **Ğ“Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ**: ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ‚ÑŒ/Ğ²Ñ‹ĞºĞ»ÑÑ‡Ğ°Ñ‚ÑŒ, Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°Ñ‚ÑŒ boost
5. **ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ**: Git ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ğ¸

## ĞŸĞ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ğ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 1: Git Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Graceful degradation - ĞµÑĞ»Ğ¸ Git Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½, Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ½Ğµ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ change tracking

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 2: ĞœĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Git ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** 
- Batch Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (Ğ¾Ğ´Ğ¸Ğ½ git log Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
- ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
- ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ feature (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¾Ñ‚ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ)

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 3: Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
- Ğ˜Ğ½ĞºÑ€ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹)
- ĞŸĞ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
- ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Git ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° 4: ĞĞµ Ğ²ÑĞµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ² Git
**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `git ls-files` Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ¼
- Fallback Ğ½Ğ° file mtime ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ² Git

## ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹ (Ğ¾Ñ‚ĞºĞ»Ğ¾Ğ½ĞµĞ½Ñ‹)

### 1. ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ğ°Ñ ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ñ Ğ² Qdrant Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ½ĞµÑ‚:** Ğ”ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, ÑĞ»Ğ¾Ğ¶Ğ½ĞµĞµ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### 2. Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ´Ğ»Ñ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ½ĞµÑ‚:** Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ, ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ

### 3. Git hooks Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ½ĞµÑ‚:** ĞœĞ¾Ğ¶ĞµÑ‚ Ğ·Ğ°Ğ¼ĞµĞ´Ğ»Ğ¸Ñ‚ÑŒ Git Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸, Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸

## Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### Ğ­Ñ‚Ğ°Ğ¿ 1: Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
1. GitChangeTracker Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ
2. Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ FileMetadata
3. Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² collectChunks
4. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² chunk metadata

### Ğ­Ñ‚Ğ°Ğ¿ 2: Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¿Ğ¾Ğ¸ÑĞº
1. Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ VectorSearchFilters
2. Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² query
3. Boost Ğ´Ğ»Ñ Ğ½ĞµĞ´Ğ°Ğ²Ğ½Ğ¸Ñ… Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹

### Ğ­Ñ‚Ğ°Ğ¿ 3: UI Ğ¸ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ
1. ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ change info Ğ² Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°Ñ…
2. CLI Ñ„Ğ»Ğ°Ğ³Ğ¸ Ğ´Ğ»Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
3. Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

## ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ ÑƒÑĞ¿ĞµÑ…Ğ°

- âœ… ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ½Ğ°Ğ¹Ñ‚Ğ¸ Ğ±Ğ°Ğ³Ğ¸ Ñ‡ĞµÑ€ĞµĞ· semantic search Ğ¿Ğ¾ Ğ½ĞµĞ´Ğ°Ğ²Ğ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ½Ğ¾Ğ¼Ñƒ ĞºĞ¾Ğ´Ñƒ
- âœ… ĞĞµ Ğ·Ğ°Ğ¼ĞµĞ´Ğ»ÑĞµÑ‚ Ğ¸Ğ½Ğ´ĞµĞºÑĞ°Ñ†Ğ¸Ñ Ğ±Ğ¾Ğ»ĞµĞµ Ñ‡ĞµĞ¼ Ğ½Ğ° 10%
- âœ… ĞĞµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹
- âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ´Ğ°Ğ¶Ğµ ĞµÑĞ»Ğ¸ Git Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ (graceful degradation)

